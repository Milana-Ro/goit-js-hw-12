{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const PIXABAY_URL = 'https://pixabay.com/api/';\nconst PIXABAY_KEY = '43177088-2530548a60ff9c950be2fcaec';\nconst CURRENT_PIXABAY_URL = `${PIXABAY_URL}?key=${PIXABAY_KEY}&image_type=photo&orientation=horizontal&safesearch=true`;\n\nexport const searchImagesApi = (imageName = '') => {\n  return fetch(`${CURRENT_PIXABAY_URL}&q=${imageName}`).then(response =>\n    response.json()\n  );\n};\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst galleryContainer = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nexport const renderGallery = imagesList => {\n  const galleryItemsMarkup = imagesList.reduce((acc, imageData) => {\n    const {\n      webformatURL,\n      largeImageURL,\n      tags,\n      likes,\n      views,\n      comments,\n      downloads,\n    } = imageData;\n\n    acc += `<li class=\"gallery-item\">\n          <a class=\"gallery-link\" href=\"${largeImageURL}\">\n            <img\n              class=\"gallery-image\"\n              width=\"360\"\n              height=\"200\"\n              loading=\"lazy\"\n              src=\"${webformatURL}\"\n              alt=\"${tags}\"\n            />\n          </a>\n          <ul class=\"description-list\">\n            <li>Likes <span>${likes}</span></li>\n            <li>Views <span>${views}</span></li>\n            <li>Comments <span>${comments}</span></li>\n            <li>Downloads <span>${downloads}</span></li>\n          </ul>\n        </li>\n        `;\n\n    return acc;\n  }, '');\n  galleryContainer.insertAdjacentHTML('afterbegin', galleryItemsMarkup);\n\n  showImageOnClick();\n};\n\nexport const clearGallery = () => {\n  galleryContainer.innerHTML = '';\n};\n\nconst showImageOnClick = () => {\n  const simplelightboxOptions = {\n    captionsData: 'alt',\n    captionDelay: 250,\n  };\n\n  let gallery = new SimpleLightbox('.gallery a', simplelightboxOptions);\n  gallery.on('show.simplelightbox');\n  gallery.refresh();\n};\n\nexport const showLoader = () => {\n  loader.classList.remove('hide');\n};\nexport const hideLoader = () => {\n  loader.classList.add('hide');\n};\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { searchImagesApi } from './js/pixabay-api';\nimport {\n  clearGallery,\n  renderGallery,\n  showLoader,\n  hideLoader,\n} from './js/render-functions';\n\nconst form = document.querySelector('.form');\n\nform.addEventListener('submit', onSubmitForm);\n\nfunction onSubmitForm(event) {\n  event.preventDefault();\n  clearGallery();\n\n  const imageName = new FormData(form).get('imageName').trim();\n\n  if (!imageName) {\n    showRequiredFillNotification();\n    return;\n  }\n  showLoader();\n  searchImagesApi(imageName)\n    .then(data => {\n      const { hits, total } = data;\n      if (!hits.length || !total) {\n        showNotFoundNotification();\n        return;\n      }\n      renderGallery(hits);\n    })\n    .catch(error => showErrorNotification(error))\n    .finally(() => hideLoader());\n  form.reset();\n}\n\nfunction showErrorNotification(message) {\n  iziToast.error({\n    title: 'Error',\n    message: `${message.toString()}`,\n    position: 'topRight',\n    messageColor: '#fff',\n    messageLineHeight: '150%',\n    backgroundColor: 'red',\n  });\n}\n\nfunction showNotFoundNotification() {\n  iziToast.error({\n    message:\n      'Sorry, there are no images matching your search query. Please try again!',\n    position: 'topRight',\n    messageColor: '#fff',\n    messageLineHeight: '150%',\n    backgroundColor: 'red',\n  });\n}\n\nfunction showRequiredFillNotification() {\n  iziToast.warning({\n    title: 'Caution',\n    message: 'Please fill the input',\n    position: 'topRight',\n    messageColor: '#fff',\n    messageLineHeight: '150%',\n    backgroundColor: 'orange',\n  });\n}\n"],"names":["PIXABAY_URL","PIXABAY_KEY","CURRENT_PIXABAY_URL","searchImagesApi","imageName","response","galleryContainer","loader","renderGallery","imagesList","galleryItemsMarkup","acc","imageData","webformatURL","largeImageURL","tags","likes","views","comments","downloads","showImageOnClick","clearGallery","simplelightboxOptions","gallery","SimpleLightbox","showLoader","hideLoader","form","onSubmitForm","event","showRequiredFillNotification","data","hits","total","showNotFoundNotification","error","showErrorNotification","message","iziToast"],"mappings":"6vBAAA,MAAMA,EAAc,2BACdC,EAAc,qCACdC,EAAsB,GAAGF,CAAW,QAAQC,CAAW,2DAEhDE,EAAkB,CAACC,EAAY,KACnC,MAAM,GAAGF,CAAmB,MAAME,CAAS,EAAE,EAAE,KAAKC,GACzDA,EAAS,KAAM,CACnB,ECJMC,EAAmB,SAAS,cAAc,UAAU,EACpDC,EAAS,SAAS,cAAc,SAAS,EAElCC,EAAgBC,GAAc,CACzC,MAAMC,EAAqBD,EAAW,OAAO,CAACE,EAAKC,IAAc,CAC/D,KAAM,CACJ,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,EAAGP,EAEJ,OAAAD,GAAO;AAAA,0CAC+BG,CAAa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAMlCD,CAAY;AAAA,qBACZE,CAAI;AAAA;AAAA;AAAA;AAAA,8BAIKC,CAAK;AAAA,8BACLC,CAAK;AAAA,iCACFC,CAAQ;AAAA,kCACPC,CAAS;AAAA;AAAA;AAAA,UAKhCR,CACR,EAAE,EAAE,EACLL,EAAiB,mBAAmB,aAAcI,CAAkB,EAEpEU,GACF,EAEaC,EAAe,IAAM,CAChCf,EAAiB,UAAY,EAC/B,EAEMc,EAAmB,IAAM,CAC7B,MAAME,EAAwB,CAC5B,aAAc,MACd,aAAc,GAClB,EAEE,IAAIC,EAAU,IAAIC,EAAe,aAAcF,CAAqB,EACpEC,EAAQ,GAAG,qBAAqB,EAChCA,EAAQ,QAAO,CACjB,EAEaE,EAAa,IAAM,CAC9BlB,EAAO,UAAU,OAAO,MAAM,CAChC,EACamB,EAAa,IAAM,CAC9BnB,EAAO,UAAU,IAAI,MAAM,CAC7B,ECpDMoB,EAAO,SAAS,cAAc,OAAO,EAE3CA,EAAK,iBAAiB,SAAUC,CAAY,EAE5C,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EACpBR,IAEA,MAAMjB,EAAY,IAAI,SAASuB,CAAI,EAAE,IAAI,WAAW,EAAE,OAEtD,GAAI,CAACvB,EAAW,CACd0B,IACA,MACD,CACDL,IACAtB,EAAgBC,CAAS,EACtB,KAAK2B,GAAQ,CACZ,KAAM,CAAE,KAAAC,EAAM,MAAAC,CAAO,EAAGF,EACxB,GAAI,CAACC,EAAK,QAAU,CAACC,EAAO,CAC1BC,IACA,MACD,CACD1B,EAAcwB,CAAI,CACxB,CAAK,EACA,MAAMG,GAASC,EAAsBD,CAAK,CAAC,EAC3C,QAAQ,IAAMT,EAAU,CAAE,EAC7BC,EAAK,MAAK,CACZ,CAEA,SAASS,EAAsBC,EAAS,CACtCC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,GAAGD,EAAQ,SAAU,CAAA,GAC9B,SAAU,WACV,aAAc,OACd,kBAAmB,OACnB,gBAAiB,KACrB,CAAG,CACH,CAEA,SAASH,GAA2B,CAClCI,EAAS,MAAM,CACb,QACE,2EACF,SAAU,WACV,aAAc,OACd,kBAAmB,OACnB,gBAAiB,KACrB,CAAG,CACH,CAEA,SAASR,GAA+B,CACtCQ,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,wBACT,SAAU,WACV,aAAc,OACd,kBAAmB,OACnB,gBAAiB,QACrB,CAAG,CACH"}